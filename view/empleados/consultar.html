<!DOCTYPE html>
<html lang="en">
    <head>
      <title>{% block title %}Agroquimicos el banano{% endblock %}</title>
         <!-- Paginacion y Busqueda Inicio -->
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
          <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
          <!-- Paginacion y Busqueda Fin -->
    </head>
    <body>
        {% include "common/navigation_bar.html" %}
        {% include "common/navigation_bar_empleados.html" %}
            {% block content %}
             <div class="container-fluid">
                <div class="well">
                    <h1 class="text-center">EMPLEADOS REGISTRADOS</h1>
                    <a class="btn btn-info" href="/empleados/registrarEmpleados">Registrar Empleados</a>
                    <br>
                    <div class="table-responsive">
                        <table class="table" id="tablax">
                        <thead class="thead-dark">
                            <th class="text-center">ID</th>
                            <th class="text-center">NOMBRE</th>
                            <th class="text-center">APELLIDO PATERNO</th>
                            <th class="text-center">APLEIIDO MATERNO</th>
                            <th class="text-center">SEXO</th>
                            <th class="text-center">FECHA DE NACIMIENTO</th>
                            <th class="text-center">CURP</th>
                            <th class="text-center">ESTADO CIVIL</th>
                            <th class="text-center">FECHA CONTRATACION</th>
                            <th class="text-center">SALARIO DIARIO</th>
                            <th class="text-center">NSS</th>
                            <th class="text-center">DIAS DE VACACIONES</th>
                            <th class="text-center">DIAS DE PERMISO</th>
                            <th class="text-center">FOTOGRAFIA</th>
                            <th class="text-center">DIRECCION</th>
                            <th class="text-center">COLONIA</th>
                            <th class="text-center">CODIGO POSTAL</th>
                            <th class="text-center">ESCOLARIDAD</th>
                            <th class="text-center">ESPECILIDAD</th>
                            <th class="text-center">EMAIL</th>
                            <th class="text-center">CONTRASEÑA</th>
                            <th class="text-center">TIPO</th>
                            <th class="text-center">ESTATUS</th>
                            <th class="text-center">DEPARTAMENTO</th>
                            <th class="text-center">PUESTO</th>
                            <th class="text-center">CIUDAD</th>
                            <th class="text-center">SUCURSAL</th>
                            <th class="text-center">TURNO</th>
                            <th class="text-center">VER</th>
                            <th class="text-center">ELIMINAR</th>
                        </thead>
                        {% for emplea in emp %}
                        {% if emp.estatus!="I" %}
                        <tr>
                            <td class="text-center">{{emplea.idEmpleado}}</td>
                            <td class="text-center">{{emplea.nombre}}</td>
                            <td class="text-center">{{emplea.apellidoPaterno}}</td>
                            <td class="text-center">{{emplea.apellidoMaterno}}</td>
                            <td class="text-center">{{emplea.sexo}}</td>
                            <td class="text-center">{{emplea.fechaNacimiento}}</td>
                            <td class="text-center">{{emplea.curp}}</td>
                            <td class="text-center">{{emplea.estadoCivil}}</td>
                            <td class="text-center">{{emplea.fechaContratacion}}</td>
                            <td class="text-center">{{emplea.salarioDiario}}</td>
                            <td class="text-center">{{emplea.nss}}</td>
                            <td class="text-center">{{emplea.diasVacaciones}}</td>
                            <td class="text-center">{{emplea.diasPermiso}}</td>
                            <td><img src="/empleados/consultarImagen/{{emplea.idEmpleado}}" width="100px" height="80px"></td>
                            <td class="text-center">{{emplea.direccion}}</td>
                            <td class="text-center">{{emplea.colonia}}</td>
                            <td class="text-center">{{emplea.codigoPostal}}</td>
                            <td class="text-center">{{emplea.escolaridad}}</td>
                            <td class="text-center">{{emplea.especialidad}}</td>
                            <td class="text-center">{{emplea.email}}</td>
                            <td class="text-center">{{emplea.contraseña}}</td>
                            <td class="text-center">{{emplea.tipo}}</td>
                            <td class="text-center">{{emplea.estatus}}</td>
                            {% for departments in depa %}
                            {% if depa.idDepartamento==emp.idDepartamento %}
                            <td class="text-center">{{departments.nombre}}</td>
                            {% endif %}
                            {% endfor %}
                            {% for puestos in pues %}
                            {% if pues.idPuesto==emp.idPuesto %}
                            <td class="text-center">{{puestos.nombre}}</td>
                            {% endif %}
                            {% endfor %}
                            {% for ciuda in ciud %}
                            {% if ciud.idCiudad==emp.idCiudad %}
                            <td class="text-center">{{ciuda.nombre}}</td>
                            {% endif %}
                            {% endfor %}
                            {% for sucursa in sucu %}
                            {% if sucu.idSucursal==emp.idSucursal %}
                            <td class="text-center">{{sucursa.nombre}}</td>
                            {% endif %}
                            {% endfor %}
                            {% for turns in turn%}
                            {% if turn.idTurno==emp.idTurno %}
                            <td class="text-center">{{turns.nombre}}</td>
                            {% endif %}
                            {% endfor %}
                            <td class="text-center">
                                <a href="/empleados/ver/{{emplea.idEmpleado}}">
                                    <span class="glyphicon glyphicon-eye-open"></span>
                                </a>
                            </td>
                            <td class="text-center">
                                <a href="/empleados/eliminarEmpleados/{{emplea.idEmpleado}}">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </a>
                            </td>
                        </tr>
                        {% endif %}
                        {% endfor %}
                        </table>
                    </div>
                    <br>
                        {% if get_flashed_messages() %}
                            <div id="menssageAlert" class="alert alert-success alert-dismissible">
                                {% for message in get_flashed_messages() %}
                                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                                <strong>{{message}}</strong>
                                {% endfor %}
                            </div>
                        {% endif %}
                </div>
             </div>
            {% endblock %}
        <p class="text text-center">Este es el pie de pagina</p>
        <!-- Paginacion y Busqueda Inicio -->
     <!-- JQUERY -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous">
        </script>
    <!-- DATATABLES -->
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js">
    </script>
         <!-- BOOTSTRAP -->
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js">
    </script>
    <script>
        $(document).ready(function () {
            $('#tablax').DataTable({
                language: {
                    processing: "Tratamiento en curso...",
                    search: "Buscar&nbsp;:",
                    lengthMenu: "Agrupar de _MENU_ Empleados",
                    info: "Mostrando del item _START_ al _END_ de un total de _TOTAL_ items",
                    infoEmpty: "No existen datos.",
                    infoFiltered: "(filtrado de _MAX_ elementos en total)",
                    infoPostFix: "",
                    loadingRecords: "Cargando...",
                    zeroRecords: "No se encontraron datos con tu busqueda",
                    emptyTable: "No hay datos disponibles en la tabla.",
                    paginate: {
                        first: " Primero ",
                        previous: " Anterior ",
                        next: " Siguiente ",
                        last: " Ultimo "
                    },
                    aria: {
                        sortAscending: ": active para ordenar la columna en orden ascendente",
                        sortDescending: ": active para ordenar la columna en orden descendente"
                    }
                },
                scrollY: 400,
                lengthMenu: [ [2, 25, -1], [2, 25, "All"] ],
            });
        });
    </script>
<!-- Paginacion y Busqueda Fin -->
    </body>
</html>
